<!DOCTYPE html>
<html>
<head>
  <link rel='icon' href='favicon.ico'> </link>
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <link rel="apple-touch-startup-image" href="apple-touch-icon.png">
  
  <!--laucher icon in manifest -->
  <link rel="manifest" href="manifest.json">
  <meta charset="utf-8">

  <title>LUDI Bingo</title>

  <!--http://www.html5rocks.com/en/mobile/mobifying/-->
  <meta name="viewport"
        content="width=device-width,user-scalable=no,initial-scale=1, minimum-scale=1,maximum-scale=1"/>

  <!--https://developer.apple.com/library/safari/documentation/AppleApplications/Reference/SafariHTMLRef/Articles/MetaTags.html-->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="format-detection" content="telephone=no">

  <!-- force webkit on 360 -->
  <meta name="renderer" content="webkit"/>
  <meta name="force-rendering" content="webkit"/>
  <!-- force edge on IE -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <meta name="msapplication-tap-highlight" content="no">

  <!-- force full screen on some browser -->
  <meta name="full-screen" content="yes"/>
  <meta name="x5-fullscreen" content="true"/>
  <meta name="360-fullscreen" content="true"/>
  
  <!-- force screen orientation on some browser -->
  <meta name="screen-orientation" content="portrait"/>
  <meta name="x5-orientation" content="portrait">

  <!--fix fireball/issues/3568 -->
  <!--<meta name="browsermode" content="application">-->
  <meta name="x5-page-mode" content="app">

  <!--<link rel="apple-touch-icon" href=".png" />-->
  <!--<link rel="apple-touch-icon-precomposed" href=".png" />-->

  <link rel="stylesheet" type="text/css" href="style-mobile.css"/>

</head>
<body>
	<!-- gtm and ads init -->    
    <script type='text/javascript'>
        var enableADS = false;
        dataLayer = [];
        var productKey = "";
        var gtmID = "";
        if (enableADS)
        {
            gtmID = 'GTM-W4F73N';
			productKey = "ludiBingoFree";
        }
        else
        {
            gtmID = 'GTM-K74X66';
			productKey = "ludiBingo";
        }
        // dataLayer.push({
        //   'productKey': '' + productKey
        // });
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer',gtmID); 
	</script>    
	<!-- gtm and ads end -->    
    <!--script src="i18n-supported-languages.js" charset="utf-8"></script-->
	<!-- common functions -->    
    <script type='text/javascript'>
        function insertScript(d, s, id, url) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) { return; }
            js = d.createElement(s);
            js.id = id;
            js.src = url;
            fjs.parentNode.insertBefore(js, fjs);
        }
        function loadOrderScript(url1, url2){
            var script1 = document.createElement('script');
            script1.setAttribute('src', url1);
            script1.onload = function() {
                // console.log('url2: ' + url2);
                if (typeof(url2) != 'undefined')
                {
                    var script2 = document.createElement('script');
                    script2.setAttribute('src', url2);                    
                    document.body.appendChild(script2);
                }
            }
            document.body.appendChild(script1);
        }
	</script>
	<!-- common functions end -->   
	
    <!-- ads --> 

    <script type='text/javascript'>
        console.log("enableADS: " + enableADS);        
        /*var lang_load = localStorage.getItem(window.btoa(productKey+"__gamesave-language"));
		if(lang_load == null){
			var currLanguage_load = window.navigator.language;
			currLanguage_load = currLanguage_load ? currLanguage_load : window.navigator.browserLanguage;
			currLanguage_load = currLanguage_load ? currLanguage_load.split("-")[0] : "en";
			var supported_languages_load = window.i18n.supported_languages || [];
			if(supported_languages_load.length > 0 && supported_languages_load.indexOf(currLanguage_load) == -1) {   // system lang not support -> choose the 1st
				currLanguage_load = supported_languages_load[0];
			}
			lang_load = currLanguage_load;
			
		}else{
			lang_load = window.atob(lang_load);
		}
		
		insertScript(document,'script', 'lodingText', lang_load + '.js');
		window.loading_index = 1;
		function setLoadingText(){
			if(document.getElementById("loadingText") && window.i18n.languages){
				document.getElementById("loadingText").innerHTML = window.i18n.languages[lang_load].main["loading_"+window.loading_index];
				window.loading_index += 1;
				if(window.loading_index > 5){
					window.loading_index = 1;
					clearInterval(window.loadingTimer);
				}
			}
		}
		window.loadInterval = 3000;
		window.loadingTimer = setInterval(setLoadingText, window.loadInterval);*/
        if (enableADS)
        {
            loadOrderScript('//imasdk.googleapis.com/js/sdkloader/ima3.js', 'adsSDK/adsSDK.js');
            // loadOrderScript('//imasdk.googleapis.com/js/sdkloader/ima3_debug.js', 'adsSDK/adsSDK.js');			
        }
		
		// should load ludi before fb
        ludiSDKAsyncInit = function() {
            console.log("ludiSDKAsyncInit ");                
        };
        // add ludisdk to document
        //insertScript(document,'script', 'ludisdk', '//play.ludigames.com/js/games_lib/ludiSDK.js');            
        
    </script>   
    <!-- ads end -->
  <canvas id="GameCanvas" oncontextmenu="event.preventDefault()" tabindex="0"></canvas>
  <div id="splash">
	<div class="loadingAnim" id="loadingAnim">
		<img class="loadingAnim" src="loading.gif" >
		<div class="loadingText" id="loadingText"></div>
	</div>
	<!--div class="load_bg" id="load_bg">
		
	</div>
	<div class="truck" id="truck">
		<img class="truck" src="UI_loading_truck.png" >
	</div-->
	
    <!--div class="progress-bar stripes">
      <span style="width: 0%"></span>
    </div-->
		<div class="gameVersion">
			<h4 class="gameVersion">1.0.0</h4>
		</div>
  </div>
	<div id="adsContainer" style="margin:0;padding:0">
	</div>
<script src="src/settings.js" charset="utf-8"></script>

<script src="main.js" charset="utf-8"></script>

<script type="text/javascript">
(function () {
    // open web debugger console
    if (typeof VConsole !== 'undefined') {
        window.vConsole = new VConsole();
    }

    var splash = document.getElementById('splash');
    splash.style.display = 'block';

    var cocos2d = document.createElement('script');
    cocos2d.async = true;
    cocos2d.src = window._CCSettings.debug ? 'cocos2d-js.js' : 'cocos2d-js-min.js';

    var engineLoaded = function () {
        document.body.removeChild(cocos2d);
        cocos2d.removeEventListener('load', engineLoaded, false);
        window.boot();
    };
    cocos2d.addEventListener('load', engineLoaded, false);
    document.body.appendChild(cocos2d);
})();
</script>

</body>
</html>
